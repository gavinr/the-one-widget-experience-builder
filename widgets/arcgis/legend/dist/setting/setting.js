define(["jimu-core","jimu-ui","jimu-arcgis","jimu-for-builder","jimu-ui/setting-components"],(function(e,t,n,o,a){return function(e){var t={};function n(o){if(t[o])return t[o].exports;var a=t[o]={i:o,l:!1,exports:{}};return e[o].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(o,a,function(t){return e[t]}.bind(null,a));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=279)}({279:function(e,t,n){"use strict";var o,a=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var s,i=n(3),r=n(4),d=n(7),c=n(5),u=n(6),l=n(280),p=n(281);!function(e){e.Auto="auto",e.SideBySide="side-by-side",e.Stack="stack"}(s=t.CardLayout||(t.CardLayout={}));var g=function(e){function t(t){var n=e.call(this,t)||this;return n.supportedDsTypes=i.Immutable([c.DataSourceTypes.WebMap,c.DataSourceTypes.WebScene]),n.getPortUrl=function(){return i.getAppStore().getState().portalUrl},n.onOptionsChanged=function(e,t){n.props.onSettingChange({id:n.props.id,config:n.props.config.set(t,e)}),"cardStyle"===t&&n.setState({cardStyle:e})},n.onRadioChange=function(e){n.props.onSettingChange({id:n.props.id,config:n.props.config.set("cardLayout",e)}),n.setState({cardLayoutValue:e})},n.onToggleUseDataEnabled=function(e){n.props.onSettingChange({id:n.props.id,useDataSourcesEnabled:e})},n.onDataSourceSelected=function(e,t){if(e){var o=e.map((function(e){return{dataSourceId:e.dataSourceJson&&e.dataSourceJson.id,rootDataSourceId:e.rootDataSourceId}}));n.props.onSettingChange({id:n.props.id,useDataSources:o})}},n.onDataSourceRemoved=function(){n.props.onSettingChange({id:n.props.id,useDataSources:[]})},n.onMapWidgetSelected=function(e){n.props.onSettingChange({id:n.props.id,useMapWidgetIds:e})},n.state={cardStyle:n.props.config.cardStyle||!1,cardLayoutValue:n.props.config.cardLayout||s.Auto},n}return a(t,e),t.prototype.render=function(){var e=this,t=[];if(this.props.useDataSources)for(var n=0;n<this.props.useDataSources.length;n++)t.push(this.props.useDataSources[n].dataSourceId);var o=null;return this.state.cardStyle&&(o=i.jsx("div",{className:"card-layout-content pl-2"},i.jsx("div",{className:"w-100 legend-tools"},i.jsx("div",{className:"legend-tools-item card-style-radio"},i.jsx(r.Radio,{id:"auto",style:{cursor:"pointer"},name:"auto",onChange:function(t){return e.onRadioChange(s.Auto)},checked:this.state.cardLayoutValue===s.Auto}),i.jsx(r.Label,{style:{cursor:"pointer"},for:"auto",className:"ml-1"},this.props.intl.formatMessage({id:"auto",defaultMessage:"Auto"})))),i.jsx("div",{className:"w-100 legend-tools"},i.jsx("div",{className:"legend-tools-item card-style-radio"},i.jsx(r.Radio,{id:"side-by-side",style:{cursor:"pointer"},name:"side-by-side",onChange:function(t){return e.onRadioChange(s.SideBySide)},checked:this.state.cardLayoutValue===s.SideBySide}),i.jsx(r.Label,{style:{cursor:"pointer"},for:"side-by-side",className:"ml-1"},this.props.intl.formatMessage({id:"sideBySide",defaultMessage:l.default.sideBySide})))),i.jsx("div",{className:"w-100 legend-tools"},i.jsx("div",{className:"legend-tools-item card-style-radio"},i.jsx(r.Radio,{id:"stack",style:{cursor:"pointer"},name:"stack",onChange:function(t){return e.onRadioChange(s.Stack)},checked:this.state.cardLayoutValue===s.Stack}),i.jsx(r.Label,{style:{cursor:"pointer"},for:"stack",className:"ml-1"},this.props.intl.formatMessage({id:"stack",defaultMessage:l.default.stack})))))),i.jsx("div",{css:p.getStyle(this.props.theme)},i.jsx("div",{className:"widget-setting-legend"},i.jsx(d.SettingSection,{className:"map-selector-section",title:this.props.intl.formatMessage({id:"sourceLabel",defaultMessage:l.default.sourceLabel})},i.jsx(d.SettingRow,{label:i.jsx(i.FormattedMessage,{id:"selectMapWidget",defaultMessage:l.default.selectMapWidget})}),i.jsx(d.SettingRow,null,i.jsx(d.JimuMapViewSelector,{onSelect:this.onMapWidgetSelected,useMapWidgetIds:this.props.useMapWidgetIds}))),i.jsx(d.SettingSection,{title:this.props.intl.formatMessage({id:"options",defaultMessage:l.default.options})},i.jsx(d.SettingRow,{label:i.jsx(i.FormattedMessage,{id:"showBaseMap",defaultMessage:l.default.showBaseMap})},i.jsx(r.Switch,{className:"can-x-switch",checked:this.props.config&&this.props.config.showBaseMap||!1,"data-key":"showBaseMap",onChange:function(t){e.onOptionsChanged(t.target.checked,"showBaseMap")}})),i.jsx(d.SettingRow,{label:i.jsx(i.FormattedMessage,{id:"cardStyle",defaultMessage:l.default.cardStyle})},i.jsx(r.Switch,{className:"can-x-switch",checked:this.props.config&&this.props.config.cardStyle||!1,"data-key":"cardStyle",onChange:function(t){e.onOptionsChanged(t.target.checked,"cardStyle")}})),i.jsx(d.SettingRow,{flow:"wrap"},o))))},t.mapExtraStateProps=function(e){return{dsJsons:e.appStateInBuilder.appConfig.dataSources}},t}(u.BaseWidgetSetting);t.default=g},280:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={sourceLabel:"Source",sourceDescript:"A web map or web scene, or any combination of the two.",options:"Options",showBaseMap:"Show basemap legends",cardStyle:"Use card style",sideBySide:"Side by side",stack:"Stack",selectMapWidget:"Select a Map widget"}},281:function(e,t,n){"use strict";var o=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var a,s=n(3);t.getStyle=function(e){return s.css(a||(a=o(["\n    .widget-setting-legend{\n      font-weight: lighter;\n      font-size: 13px;\n\n      .source-descript {\n        color: ",";\t\n      }\n\n      .webmap-thumbnail{\n        cursor: auto;\n        width: 100%;\n        height: 120px;\n        overflow: hidden;\n        padding: 1px;\n        border: "," solid initial;\n        img, div{\n          width: 100%;\n          height: 100%;\n        }\n      }\n\n      .card-layout-content{\n        width: 100%;\n      }\n\n      .legend-tools{\n        .legend-tools-item{\n          display: flex;\n          margin-bottom: 8px;\n        }\n      }\n\n      .map-selector-section .component-map-selector .form-control{\n        width: 100%;\n      }\n    }\n  "],["\n    .widget-setting-legend{\n      font-weight: lighter;\n      font-size: 13px;\n\n      .source-descript {\n        color: ",";\t\n      }\n\n      .webmap-thumbnail{\n        cursor: auto;\n        width: 100%;\n        height: 120px;\n        overflow: hidden;\n        padding: 1px;\n        border: "," solid initial;\n        img, div{\n          width: 100%;\n          height: 100%;\n        }\n      }\n\n      .card-layout-content{\n        width: 100%;\n      }\n\n      .legend-tools{\n        .legend-tools-item{\n          display: flex;\n          margin-bottom: 8px;\n        }\n      }\n\n      .map-selector-section .component-map-selector .form-control{\n        width: 100%;\n      }\n    }\n  "])),e.colors.palette.dark[600],s.polished.rem(2))}},3:function(t,n){t.exports=e},4:function(e,n){e.exports=t},5:function(e,t){e.exports=n},6:function(e,t){e.exports=o},7:function(e,t){e.exports=a}})}));